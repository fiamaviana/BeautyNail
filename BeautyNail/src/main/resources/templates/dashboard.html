<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
	<head>
		<title>Beauty Nail</title>
		<script th:replace="fragments/head :: headerElement"></script>
	</head>
	<body class="backImg">
		<div th:replace="fragments/head :: header"></div>
		<div class="container" style="margin-top: 1.5em;">
			<div class="row">
				<div class="col-8" style="color:whitesmoke">
					<h1>My Bookings</h1>
				</div>

			</div>
			

				<div th:if"${booking.date !=null}">
					<div class="row">
						<div class="col">
							<form action="/booking" method="post">
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
								<button class="btn btn-primary" id="book" style="float:right">Book here</button>
							</form>
						</div>
					</div>
					
					<div class="row">
						  <div class="col-sm-6" sec:authorize="hasRole('USER')">
						    <div class="card" th:each="booking : ${booking}" style="margin-top: 10px;">
						      <div class="card-body">
					      		<div sec:authorize="hasRole('ADMIN')">
								    <h5 class="card-title" th:if"${booking.user.name !=null}" th:text="${booking.user.name}">User</h5>
								</div>
						      	
						        <h5 class="card-title" th:text="${booking.manicure.type}">Manicure</h5>
						        <label>Date: </label><p class="card-text" th:text="${booking.date}">Date</p>
						        <label>Time: </label><p class="card-text" th:text="${booking.time}">Time</p>
						        <a th:href="@{/booking/{bookingId}(bookingId=${booking.bookingId})}" class="btn btn-primary">Edit</a>   
						      </div>
						    </div>
						  </div>
						  <div class="col-sm-6">
						  	<div sec:authorize="hasRole('ADMIN')">
						  	 	<h2 style="color:white">Welcome <spam >Admin</spam> here you can check all bookings</h2>
						  	 	<table>
						  	 		<tr>
						  	 			<th>Name</th>
						  	 			<th>Manicure Type</th>
						  	 			<th>Date</th>
						  	 			<th>Time</th>
						  	 			<th>Edit/Cancel</th>
						  	 		</tr>
						  	 		<tr th:each="booking : ${booking}">
						  	 			<td th:if"${booking.user.name !=null}" th:text="${booking.user.name}"></td>
						  	 			<td th:text="${booking.manicure.type}"></td>
						  	 			<td th:text="${booking.date}"></td>
						  	 			<td th:text="${booking.time}"></td>
						  	 			<td>
						  	 			<a th:href="@{/booking/{bookingId}(bookingId=${booking.bookingId})}" class="btn btn-primary">Edit</a>
						  	 			</td>
						  	 		</tr>
						  	 	</table>
						  	</div>
						  </div>
					</div>
					
					
					
					</div>
				</div>
			</div>		
	
	</body>
</html>