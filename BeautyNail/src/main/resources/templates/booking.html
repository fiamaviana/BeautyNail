<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
	<head>
		<title>Beauty Nail</title>
		<script th:replace="fragments/head :: headerElement"></script>
		<script src = "https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js"></script>  
		<script src = "https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/js/bootstrap-datetimepicker.min.js"></script>
		
	</head>
	<body class="backImg">
		<div th:replace="fragments/head :: header"></div>
		<div class="container" th:if="${booking != null}">
			<div class="row">
				<h1 style="color: white;">Book here!</h1> 
			
			  <div class="col-sm-3" >
			  </div>
			  <div class="col-sm-5">
			 	  <div class="card" style="margin-top: 1.5em;">
			 		<div class="card-header"> </div>
			 	  	<div class="card-body">
						<form action="" name="booking"  method="post">
							<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>	
							<input type="hidden" th:field="${booking.bookingId}"/>
							
							<div class="row mt-3">
								<div class="d-grid gap-2">
								<label> Select your nail designer: </label>
									<select id="select1" class="btn btn-light" th:field="${booking.type}">
							            <option value="Basic Polish">BASIC POLISH</option>
							            <option value="Shellac">SHELLAC</option>
							            <option value="Gel">GEL</option>
							            <option value="Acrylic">ACRYLIC</option>
							            <option value="Dip Powder">DIP POWDER</option>
							            <option value="Paraffin Manicure">PARAFFIN MANICURE</option>
					        		</select>
								</div>
							</div>
							<div class="row mt-3">
								<label> Choose the date and time </label>					
								<div class="col-md-7">
					           		<input type = "date" class="datepicker btn btn-light" style="width: 100%;margin-bottom:15px;" id="datepicker" th:field="${booking.date}">  
									<script type="text/javascript">
							            $(function () {
							                $('#datetimepicker1').datetimepicker({
							                    daysOfWeekDisabled: [0,6]
							                });
							            });
						
										document.getElementById('datepicker').value = new Date().toISOString().substring(0, 10);
										
									</script>
								</div>

								<div class="col-md-5">
									<select id="select1" class="btn btn-light" style="width: 100%" th:field="${booking.time}">
							            <option value="10:00">10:00</option>
							            <option value="11:00">11:00</option>
							            <option value="13:00">13:00</option>
							            <option value="14:00">14:00</option>
							            <option value="15:00">15:00</option>
							            <option value="16:00"> 16:00</option>
						        	</select>
								</div>
							</div>
							<div class="row mt-3">
					        	<div class="d-grid gap-2">
									<button type="submit" name="action" value="checkTimeAvailable" class="btn btn-secondary"> Click here to check if your booking is available </button>
									<div class="alert alert-primary" role="alert" th:text="${success}" th:if="${success}"></div>
									<div class="alert alert-danger" role="alert" th:text="${error}" th:if="${error}"></div>
								</div>
							</div>
			
							<div class="row mt-3">
								<div class="col-md-6">
				        			<button type="submit" name="action" value="delete" class="btn btn-danger" id="CancelBtn" onclick="return confirm('Are you sure you want to cancel this booking?')">Cancel</button>
								</div>
					        	<div class="col-md-6">
									<button type="submit" name="action" value="save" class="btn btn-primary" id="bookBtn" style="float:right;" onclick="validateBooking()"> Book </button>
								</div>
								
							</div>
					
				     
						</form>
						</div>
					</div>
					
				</div>
			</div>
		</div>	
	</body>
</html>